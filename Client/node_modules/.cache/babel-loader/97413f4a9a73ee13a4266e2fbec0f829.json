{"ast":null,"code":"import _slicedToArray from \"/Users/ivanleo/Documents/coding/Client/keepsake/tailwindKeepsake/Client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/ivanleo/Documents/coding/Client/keepsake/tailwindKeepsake/Client/src/components/Letter.js\";\n//Library Imports\nimport React, { useReducer, useState, useRef } from \"react\";\nimport { render } from \"react-dom\";\nimport { Stage, Layer, Rect, Image } from \"react-konva\"; //Component Imports\n\nimport ImageWrapper from \"./ImageWrapper\";\nimport Toolbar from './Toolbar'; //Reducer Imports\n\nimport { reducer } from \"../reducers/letterReducer\"; //Helper Methods\n\nimport { handleStageClick } from '../helperMethods'; //Hook Imports\n\nimport useWindowSize from '../hooks/useWindowSize';\n\nvar Letter = function Letter() {\n  //Reducer State\n  var _useReducer = useReducer(reducer, []),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      items = _useReducer2[0],\n      dispatch = _useReducer2[1]; //React Refs\n\n\n  var stageEl = React.createRef();\n  var layerEl = React.createRef(); //Local State\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedId = _useState2[0],\n      selectShape = _useState2[1];\n\n  var _useWindowSize = useWindowSize(),\n      _useWindowSize2 = _slicedToArray(_useWindowSize, 2),\n      width = _useWindowSize2[0],\n      height = _useWindowSize2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      containerHeight = _useState4[0],\n      setContainerHeight = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      containerWidth = _useState6[0],\n      setContainerWidth = _useState6[1]; //ComponentDidMount methods\n\n\n  React.useEffect(function () {\n    var newWidth = width > 600 ? 600 : 0.6 * width;\n    var newHeight = height > 600 ? 600 : 0.6 * height;\n    setContainerHeight(newHeight);\n    setContainerWidth(newWidth);\n  }, [height, width]);\n  return React.createElement(\"div\", {\n    style: {\n      height: \"60vh\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(Stage, {\n    ref: stageEl,\n    width: containerWidth,\n    height: containerHeight,\n    style: {\n      border: \"1px solid black\"\n    },\n    onMouseDown: function onMouseDown(e) {\n      return handleStageClick(e, selectShape);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(Layer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, items.map(function (item, itemIndex) {\n    switch (item.type) {\n      case 'IMAGE':\n        {\n          return React.createElement(ImageWrapper, {\n            item: item,\n            key: itemIndex,\n            selectShape: selectShape,\n            selected: item.id === selectedId,\n            itemIndex: itemIndex,\n            dispatch: dispatch,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          });\n        }\n    }\n  }))), React.createElement(Toolbar, {\n    dispatch: dispatch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }));\n};\n\nexport default Letter;","map":{"version":3,"sources":["/Users/ivanleo/Documents/coding/Client/keepsake/tailwindKeepsake/Client/src/components/Letter.js"],"names":["React","useReducer","useState","useRef","render","Stage","Layer","Rect","Image","ImageWrapper","Toolbar","reducer","handleStageClick","useWindowSize","Letter","items","dispatch","stageEl","createRef","layerEl","selectedId","selectShape","width","height","containerHeight","setContainerHeight","containerWidth","setContainerWidth","useEffect","newWidth","newHeight","border","e","map","item","itemIndex","type","id"],"mappings":"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","sourcesContent":["//Library Imports\nimport React, { useReducer, useState, useRef } from \"react\";\nimport { render } from \"react-dom\";\nimport { Stage, Layer, Rect, Image } from \"react-konva\";\n\n\n//Component Imports\nimport ImageWrapper from \"./ImageWrapper\";\nimport Toolbar from './Toolbar';\n\n//Reducer Imports\nimport { reducer } from \"../reducers/letterReducer\";\n\n//Helper Methods\nimport { handleStageClick } from '../helperMethods';\n\n//Hook Imports\nimport useWindowSize from '../hooks/useWindowSize';\n\nconst Letter = () => {\n  //Reducer State\n  const [items, dispatch] = useReducer(reducer, []);\n  \n  //React Refs\n  const stageEl = React.createRef();\n  const layerEl = React.createRef();\n  \n  //Local State\n  const [selectedId, selectShape] = useState(null);\n  const [width,height] = useWindowSize();\n  const [containerHeight, setContainerHeight] = useState(0)\n  const [containerWidth, setContainerWidth] = useState(0)\n\n  //ComponentDidMount methods\n  React.useEffect((\n    () => {\n      const newWidth = width > 600 ? 600 : 0.6*width;\n      const newHeight = height > 600 ? 600 : 0.6*height;\n      setContainerHeight(newHeight)\n      setContainerWidth(newWidth)\n    }\n  ),[height,width])\n\n  return (\n    <div style = {{height:\"60vh\"}}>\n      <Stage\n        ref={stageEl}\n        width={containerWidth}\n        height={containerHeight}\n        style ={{border:\"1px solid black\"}}\n        onMouseDown={(e) => handleStageClick(e,selectShape)}\n      >\n        <Layer>\n          {items.map((item, itemIndex) => {\n              switch (item.type) {\n                  case 'IMAGE': {\n                      return (\n                        <ImageWrapper\n                        item={item}\n                        key={itemIndex}\n                        selectShape={selectShape}\n                        selected={item.id === selectedId}\n                        itemIndex={itemIndex}\n                        dispatch={dispatch}\n                      />\n                      )\n                  }\n              }\n            \n          })}\n        </Layer>\n      </Stage>\n      <Toolbar dispatch={dispatch} />\n      </div>\n  );\n};\n\nexport default Letter;\n"]},"metadata":{},"sourceType":"module"}